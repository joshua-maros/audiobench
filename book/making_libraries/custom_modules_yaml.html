<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The .module.yaml File - Audiobench</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../getting_started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../additional_libraries.html"><strong aria-hidden="true">2.</strong> Additional Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../making_libraries/start.html"><strong aria-hidden="true">2.1.</strong> Making Your Own Libraries</a></li><li class="chapter-item expanded "><a href="../making_libraries/adding_patches.html"><strong aria-hidden="true">2.2.</strong> Adding Patches</a></li><li class="chapter-item expanded "><a href="../making_libraries/publishing.html"><strong aria-hidden="true">2.3.</strong> Publishing Your Library</a></li><li class="chapter-item expanded "><a href="../making_libraries/custom_modules.html"><strong aria-hidden="true">2.4.</strong> Custom Modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../making_libraries/introduction_to_julia.html"><strong aria-hidden="true">2.4.1.</strong> Introduction To Julia</a></li><li class="chapter-item expanded "><a href="../making_libraries/custom_modules_julia.html"><strong aria-hidden="true">2.4.2.</strong> The .module.jl File</a></li><li class="chapter-item expanded "><a href="../making_libraries/audiobench_and_julia.html"><strong aria-hidden="true">2.4.3.</strong> Audiobench-Specific Julia Patterns</a></li><li class="chapter-item expanded "><a href="../making_libraries/custom_modules_yaml.html" class="active"><strong aria-hidden="true">2.4.4.</strong> The .module.yaml File</a></li><li class="chapter-item expanded "><a href="../making_libraries/module_controls.html"><strong aria-hidden="true">2.4.5.</strong> List Of Controls</a></li><li class="chapter-item expanded "><a href="../making_libraries/module_widgets.html"><strong aria-hidden="true">2.4.6.</strong> List Of Widgets</a></li></ol></li><li class="chapter-item expanded "><a href="../making_libraries/factory_library_source.html"><strong aria-hidden="true">2.5.</strong> Factory Library Source Code</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Audiobench</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-moduleyaml-file"><a class="header" href="#the-moduleyaml-file">The .module.yaml File</a></h1>
<p>The <code>.module.yaml</code> file describes metadata about the module. Among other things,
it allows Audiobench to create a graphical representation of the model and route
the appropriate data in to and out of the <code>exec()</code> function defined in the
corresponding <code>.module.jl</code> file. The file should follow this format:</p>
<pre><code class="language-yaml">save_id: 0
outputs:
    [List of outputs]
controls:
    [List of controls]
gui:
  label: Thing Doer
  category: Utility
  tooltip: Does things
  width: 10
  height: 10
  widgets:
    [List of widgets]
</code></pre>
<h2 id="save_id"><a class="header" href="#save_id"><code>save_id</code></a></h2>
<p>The <code>save_id</code> must be unique among all the modules in a particular library. If
it is not, opening Audiobench will produce an error recommending the next
available unused ID. Because of this it is recommended to set the ID to 0 when
making a new module, then change it to the value that Audiobench recommends
on startup.</p>
<h2 id="outputs"><a class="header" href="#outputs"><code>outputs</code></a></h2>
<p>The outputs list is formatted like this:</p>
<pre><code class="language-yaml">outputs:
    output_name:
        datatype: [audio, pitch, trigger, or waveform]
        label: Output
        tooltip: Where the output comes out of.
</code></pre>
<p>The datatype specifies what kind of data the output will carry. Note that the
actual Julia datatype of pitch data is just <code>ControlSignal</code> (or possibly
<code>StaticControlSignal</code>.) <code>label</code> specifies a piece of text to show next to the
output when it is being hovered over. <code>tooltip</code> specifies tooltip text to
display in the top bar when the output is being hovered over. To use this
output in your Julia code, you operate on a variable named <code>output_name</code>. For
example:</p>
<pre><code class="language-julia">output_name = Similar(StereoAudio)
</code></pre>
<p>Note that you <em>must</em> create a value and assign it to this variable. If your
<code>exec()</code> function completes without defining a variable named <code>output_name</code>, you
will get a compiler error.</p>
<h2 id="controls"><a class="header" href="#controls"><code>controls</code></a></h2>
<p>These are the things the user can modify to control how your module works. Note
that this section does not contain the visual representation of the controls,
that part is done in the <code>widgets</code> section. The <code>controls</code> section is formatted
like this:</p>
<pre><code class="language-yaml">controls:
    control_name:
        type: ControlType
        other_data: specific to this ControlType
</code></pre>
<p>You can access the values of these controls inside the corresponding Julia code
with the variable name you provide in place of <code>control_name</code>. A list of the
different control types and the parameters they each require is available in the
next section.</p>
<h2 id="gui"><a class="header" href="#gui"><code>gui</code></a></h2>
<p>This section tells Audiobench how to construct a visual representation of the
module. The <code>label</code> is the name of the module that is displayed in the module
browser and above the module in the module graph when hovering over it. The
<code>category</code> is a name under which the module should be placed in the module
browser. There is no limit on what this can be, so be aware that if you misspell
the name of an existing category then your module will show up as the only
module in the new misspelled category. The <code>tooltip</code> is text which shows in the
top bar when the module is being hovered over. The <code>width</code> and <code>height</code> specify
the size of the light gray area of the module where widgets can be placed. You
do not need to take into account the extra space needed for the dark blue bars
on either side of the module.</p>
<h2 id="widgets"><a class="header" href="#widgets"><code>widgets</code></a></h2>
<p>This section specifies what widgets should be shown on the module. These are
usually used either to show a visual representation of a control or to display
some feedback data sent from the <code>exec()</code> function to the user in a readable
format. The section is formatted like this:</p>
<pre><code class="language-yaml">gui:
  widgets:
  - type: WidgetType
    x: 0
    y: 0
</code></pre>
<p>A list of all current widgets is provided in a following chapter. There are some
properties that many widgets have that serve the same function. First, almost
every widget has an <code>x</code> and <code>y</code> property, which specifies the position of the
top-left corner of the widget inside the module in grid units. Note that this is
not pixels! For example, a knob is 2 grid units wide which, when rendered on the
screen, takes up about 60 pixels. Many widgets also have <code>label</code> and <code>tooltip</code>
properties. The former is a piece of text which should be displayed over or
under the widget describing its function. The latter is a piece of text to 
display in the top bar when the widget is hovered over. Any widget which serves
as a visual representation of a control will have a <code>control</code> property where you
must type the name of the control that the widget should represent. An error 
will be generated if the control is not of the correct type. For example, a
<code>DurationBox</code> widget cannot be used to represent a <code>FloatInRange</code> control.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../making_libraries/audiobench_and_julia.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../making_libraries/module_controls.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../making_libraries/audiobench_and_julia.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../making_libraries/module_controls.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
